{"version":3,"sources":["services/persons.js","components/button.js","components/person.js","components/persons.js","components/filter.js","components/personForm.js","components/notification.js","app.js","index.js"],"names":["baseURL","axios","get","then","response","data","newObject","post","updateObject","put","id","delete","Button","onClick","text","Person","person","name","number","Persons","persons","handleDeletePerson","map","key","Filter","onChange","value","PersonForm","props","onSubmit","onChangeName","valueName","onChangeNumber","valueNumber","type","success","message","style","successStyle","color","error","errorStyle","Notification","isError","fontStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","displayPersons","setDisplayPersons","notification","setNotification","useEffect","personService","catch","is_error","setTimeout","e","target","newDisplayPersons","filter","toLowerCase","includes","preventDefault","some","window","confirm","existingPerson","find","updatePerson","newPersons","newPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d264d874.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = \"/api/persons\"\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    return request.then(response => response.data)\n}\n\nconst createObject = newObject => {\n    const request = axios.post(baseURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst updateObject = updateObject => {\n    const request = axios.put(`${baseURL}/${updateObject.id}`, updateObject)\n    return request.then(response => response.data)\n}\n\nconst deleteObject = id => {\n    const request = axios.delete(`${baseURL}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, createObject, updateObject, deleteObject }","import React from 'react';\n\nconst Button = ({ onClick, text }) => {\n    return (\n        <button onClick={onClick}>\n            {text}\n        </button>\n    )\n}\n\nexport default Button","import React from 'react';\nimport Button from './button';\n\nconst Person = ({ person, onClick }) => {\n    return (\n        <div>\n            <p>{person.name} {person.number}</p>\n\n            <Button\n                onClick={() => onClick(person)}\n                text=\"Delete\"\n            />\n        </div>\n    )\n}\n\nexport default Person","import React from 'react';\nimport Person from './person';\n\nconst Persons = ({ persons, handleDeletePerson }) => {\n    return (\n        persons.map(person =>\n            <Person\n                key={person.id}\n                person={person}\n                onClick={handleDeletePerson}\n            />\n        )\n    )\n}\n\nexport default Persons","import React from 'react';\n\nconst Filter = ({ onChange, value }) => {\n    return (\n        <div>\n            Filter shown with <input onChange={onChange} value={value} />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = (props) => {\n    const {onSubmit, onChangeName, valueName, onChangeNumber, valueNumber} = props\n\n    return (\n        <form onSubmit={onSubmit}>\n            <div>\n                Name <input onChange={onChangeName} value={valueName} />\n            </div>\n            <div>\n                Number <input onChange={onChangeNumber} value={valueNumber} />\n            </div>\n            <div>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({message, isError}) => {\n    const style = {\n        fontStyle: \"italic\",\n        fontSize: 20,\n        background: \"lightgrey\",\n        borderStyle: \"solid\",\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === \"\") {\n        return null\n    }\n\n    if (isError) {\n        return error(message, style)\n    }\n\n    return success(message, style)\n}\n\nconst success = (message, style) => {\n    const successStyle = { ...style,  color: \"green\" }\n\n    return (\n        <div style={successStyle}>\n            {message}\n        </div>\n    )\n}\n\nconst error = (message, style) => {\n    const errorStyle = { ...style,  color: \"red\" }\n\n    return (\n        <div style={errorStyle}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useEffect, useState } from 'react';\nimport personService from './services/persons'\nimport Persons from './components/persons';\nimport Filter from './components/filter';\nimport PersonForm from './components/personForm';\nimport Notification from './components/notification';\n\nconst App = () => {\n    const [ persons, setPersons ] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ newFilter, setNewFilter ] = useState('')\n    const [ displayPersons, setDisplayPersons ] = useState([])\n    const [ notification, setNotification ] = useState({message: \"\"})\n\n    useEffect(() => {\n        personService.getAll()\n            .then(data => {\n                setPersons(data)\n                setDisplayPersons(data)\n            })\n            .catch(error => {\n                setNotification({\n                    message: \"failed to get persons\",\n                    is_error: true\n                })\n\n                setTimeout(() => {\n                    setNotification({message: \"\"})\n                }, 3000)\n            })\n    }, [])\n\n    const handleNewPerson = (e) => {\n        e.preventDefault()\n\n        if (persons.some(person => person.name === newName)) {\n            if (!window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n                return\n            }\n\n            const existingPerson = persons.find(person => person.name === newName)\n            const updatePerson = { ...existingPerson, number: newNumber}\n\n            personService.updateObject(updatePerson)\n                .then(data => {\n                    const newPersons = persons.map(person => person.id !== data.id ? person : data)\n                    setPersons(newPersons)\n                    setDisplayPersons(newPersons)\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n\n                    setNotification({\n                        message: `${newName} number successfully updated`,\n                        is_error: false\n                    })\n\n                    setTimeout(() => {\n                        setNotification({message: \"\"})\n                    }, 3000)\n                })\n                .catch(error => {\n                    setNotification({\n                        message: error.response.data.error,\n                        is_error: true\n                    })\n\n                    setTimeout(() => {\n                        setNotification({message: \"\"})\n                    }, 3000)\n                })\n            return\n        }\n\n        const newPerson = {\n            name: newName,\n            number: newNumber\n        }\n\n        personService.createObject(newPerson)\n            .then(data => {\n                setPersons(persons.concat(data))\n                setDisplayPersons(displayPersons.concat(data))\n                setNewName(\"\")\n                setNewNumber(\"\")\n\n                setNotification({\n                    message: `${newPerson.name} successfully created`,\n                    is_error: false\n                })\n\n                setTimeout(() => {\n                    setNotification({message: \"\"})\n                }, 3000)\n            })\n            .catch(error => {\n                setNotification({\n                    message: error.response.data.error,\n                    is_error: true\n                })\n\n                setTimeout(() => {\n                    setNotification({message: \"\"})\n                }, 3000)\n            })\n    }\n    const handleDeletePerson = (person) => {\n        const {id, name} = person\n\n        if (!window.confirm(`Delete ${name}`)) {\n            return\n        }\n\n        personService.deleteObject(person.id)\n            .then(data => {\n                const newPersons = persons.filter(person => person.id !== id)\n\n                setPersons(newPersons)\n                setDisplayPersons(newPersons)\n\n                setNotification({\n                    message: `${person.name} successfully deleted`,\n                    is_error: false\n                })\n\n                setTimeout(() => {\n                    setNotification({message: \"\"})\n                }, 3000)\n            })\n            .catch(error => {\n                setNotification({\n                    message: `failed to delete ${name}`,\n                    is_error: true\n                })\n\n                setTimeout(() => {\n                    setNotification({message: \"\"})\n                }, 3000)\n            })\n    }\n\n    const handleNameChange = (e) => setNewName(e.target.value)\n    const handleNumberChange = (e) => setNewNumber(e.target.value)\n    const handleFilterChange = (e) => {\n        const newFilter = e.target.value\n        const newDisplayPersons = persons.filter(person =>\n            person.name.toLowerCase().includes(newFilter.toLowerCase())\n        )\n\n        setNewFilter(newFilter)\n        setDisplayPersons(newDisplayPersons)\n    }\n\n    return (\n        <>\n            <h2>Phonebook</h2>\n\n            <Notification\n                message={notification.message}\n                isError={notification.is_error}\n            />\n\n            <Filter\n                onChange={handleFilterChange}\n                value={newFilter}\n            />\n\n            <h3>Add new</h3>\n\n            <PersonForm\n                onSubmit={handleNewPerson}\n                onChangeName={handleNameChange}\n                valueName={newName}\n                onChangeNumber={handleNumberChange}\n                valueNumber={newNumber}\n            />\n\n            <h3>Numbers</h3>\n\n            <Persons\n                persons={displayPersons}\n                handleDeletePerson={handleDeletePerson}\n            />\n        </>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './app';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}